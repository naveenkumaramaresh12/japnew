(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9190],{7671:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cart",function(){return n(6736)}])},6597:function(e,s,n){"use strict";var a=n(5893),t=n(1664),c=n.n(t);n(7294);s.Z=function(e){var s=e.breadHome,n=e.breadMenu;return(0,a.jsx)("div",{className:"breadcrumb-area pt-10 pb-10",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"breadcrumb__list",children:[(0,a.jsx)("span",{children:(0,a.jsx)(c(),{href:"/",children:(0,a.jsx)("a",{children:s})})}),(0,a.jsx)("span",{className:"dvdr",children:(0,a.jsx)("i",{className:"fa-regular fa-angle-right"})}),(0,a.jsx)("span",{children:n})]})})})})})}},8778:function(e,s,n){"use strict";var a=n(5893),t=n(1664),c=n.n(t),r=n(7294),i=n(1187),l=n(2213),o=n(7558),d=n(7443),u=n(5164),h=n(1542),x=n(553),p=n(9970),m=n(1099);s.Z=function(){var e=(0,x.Z)().setShowSidebar,s=(0,r.useState)(!1),n=s[0],t=s[1],j=(0,r.useState)(!1),v=j[0],f=j[1],N=(0,h.Z)().quantity;(0,r.useEffect)((function(){return window.addEventListener("scroll",b),function(){window.removeEventListener("scroll",b)}}));var b=function(e){var s=document.querySelector("#header-sticky");window.scrollY>=80?s.classList.add("header-sticky"):s.classList.remove("header-sticky")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("header",{children:[(0,a.jsx)(p.Z,{}),(0,a.jsx)("div",{id:"header-sticky",className:"bd-header__bottom-area-3 transparent__header",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"row align-items-center",children:[(0,a.jsx)("div",{className:"col-xxl-2 col-xl-2 col-lg-3 col-md-6 col-6",children:(0,a.jsx)("div",{className:"bd-header__logo-3",children:(0,a.jsx)(c(),{href:"/",children:(0,a.jsx)("a",{children:(0,a.jsx)("img",{src:"/assets/img/logo/japlogo.png",alt:"logo"})})})})}),(0,a.jsx)("div",{className:"col-xxl-5 col-xl-5 col-lg-6 d-none d-lg-block",children:(0,a.jsx)("div",{className:"bd-header__left-3",children:(0,a.jsx)("div",{className:"main-menu d-none d-none d-lg-block",children:(0,a.jsx)("nav",{id:"mobile-menu",children:(0,a.jsx)(m.Z,{})})})})}),(0,a.jsx)("div",{className:"col-xxl-5 col-xl-5 col-lg-3 col-md-6 col-6",children:(0,a.jsxs)("div",{className:"bd-header__right header__right-3",children:[(0,a.jsx)("div",{className:"bd-action__filter-wrapper d-none d-xl-block",children:(0,a.jsx)("div",{className:"bd-action__filter p-relative",children:(0,a.jsxs)("form",{action:"#",children:[(0,a.jsx)("input",{type:"text",placeholder:"Search products..."}),(0,a.jsx)("button",{children:(0,a.jsx)("i",{className:"flaticon-magnifiying-glass"})})]})})}),(0,a.jsxs)("div",{className:"bd-action__cart-list list-3",children:[(0,a.jsx)("div",{className:"bd-action__item",children:(0,a.jsx)("div",{className:"bd-action__cart-wrapper",children:(0,a.jsxs)("div",{className:"bd-action__cart-icon",onClick:function(){return t(!0)},children:[(0,a.jsx)("span",{className:"bd-cart-mini-btn",children:(0,a.jsx)(d.Z,{})}),(0,a.jsx)("span",{className:"bd-action__item-number cart-count",children:N})]})})}),(0,a.jsx)("div",{className:"bd-action__item d-none",children:(0,a.jsx)("div",{className:"bd-action__wishlist",children:(0,a.jsxs)("div",{className:"bd-action__wistlist-icon",onClick:function(){return f(!0)},children:[(0,a.jsx)("span",{className:"bd-cart-mini-btn",children:(0,a.jsx)(u.Z,{})}),(0,a.jsx)("span",{className:"bd-action__item-number wishlist-count",children:N})]})})})]}),(0,a.jsx)("div",{className:"header__hamburger d-flex d-lg-none",children:(0,a.jsx)("button",{type:"button",className:"hamburger-btn",onClick:function(){return e(!0)},children:(0,a.jsxs)("span",{className:"hamburger-icon",children:[(0,a.jsx)("span",{}),(0,a.jsx)("span",{}),(0,a.jsx)("span",{})]})})})]})})]})})})]}),(0,a.jsx)(i.Z,{}),(0,a.jsx)(l.Z,{openCart:n,setOpenCart:t}),(0,a.jsx)(o.Z,{openWishlist:v,setOpenWishlist:f})]})}},2675:function(e,s,n){"use strict";var a=n(5893);n(7294);s.Z=function(e){var s=e.children;return(0,a.jsx)(a.Fragment,{children:s})}},6736:function(e,s,n){"use strict";n.r(s),n.d(s,{default:function(){return _}});var a=n(5893),t=n(1998),c=n(2675),r=n(7294),i=n(6614),l=n(8778),o=n(6597),d=n(7568),u=n(4051),h=n.n(u),x=n(1664),p=n.n(x),m=n(9473),j=n(1542),v=n(4071),f=n(6154),N=function(){var e=(0,m.v9)((function(e){return e.cart})).cartProducts,s=(0,r.useState)(""),n=s[0],t=s[1],c=(0,m.I0)(),i=(0,r.useState)(null),l=i[0],o=i[1],u=(0,j.Z)().total,x=(0,r.useState)(0),N=x[0],b=x[1],_=function(e){},g=function(){var e=(0,d.Z)(h().mark((function e(s){var a,t,r,i;return h().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s.preventDefault(),a=localStorage.getItem("accessToken"),e.prev=2,r={coupon_code:n},e.next=7,f.Z.post("https://jap.digisole.in/api/v1/cart/apply-coupon",r,{headers:{Authorization:"Bearer ".concat(a)}});case 7:i=e.sent,console.log("Coupon applied successfully:",i.data.cart),o(i.data.cart),c(setAppliedCoupon(null===(t=i.data.cart)||void 0===t?void 0:t.coupon_id)),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(2),e.t0.response?console.error("Coupon application failed:",e.t0.response.data):console.error("Coupon application failed:",e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(s){return e.apply(this,arguments)}}(),y=function(){var s=(0,d.Z)(h().mark((function s(){var n,a,t;return h().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,n=localStorage.getItem("accessToken"),!(e&&0===e.length)){s.next=10;break}return s.next=6,f.Z.get("https://jap.digisole.in/api/v1/cart",{headers:{Authorization:"Bearer ".concat(n)}});case 6:a=s.sent,t=a.data.cart.products,console.log("Cart products fetched successfully:",t),c((0,v.Sq)(t));case 10:s.next=15;break;case 12:s.prev=12,s.t0=s.catch(0),s.t0.response?console.error("Failed to fetch cart products:",s.t0.response.data):console.error("Failed to fetch cart products:",s.t0.message);case 15:case"end":return s.stop()}}),s,null,[[0,12]])})));return function(){return s.apply(this,arguments)}}();(0,r.useEffect)((function(){y()}),[]),(0,r.useEffect)((function(){C()}),[e]);var C=function(){var s=(0,d.Z)(h().mark((function s(){var n,a,t,c,r;return h().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,n=localStorage.getItem("accessToken"),a={data:e.map((function(e){return{product_id:e.id,quantity:e.quantity}}))},0===e.length&&(a={}),console.log(a),s.next=7,f.Z.post("https://jap.digisole.in/api/v1/cart",a,{headers:{Authorization:"Bearer ".concat(n),"Content-Type":"application/json"}});case 7:t=s.sent,console.log("MAIN CART",t.data.cart),c=t.data.cart.delivery_charge,console.log("Delivery Charge:",c),b(c),s.next=18;break;case 14:s.prev=14,s.t0=s.catch(0),console.error("Failed to send cart products to API:",null===(r=s.t0.response)||void 0===r?void 0:r.data);case 18:case"end":return s.stop()}}),s,null,[[0,14]])})));return function(){return s.apply(this,arguments)}}(),k=parseFloat(u)+parseFloat(N);return(0,a.jsxs)(a.Fragment,{children:[e&&0===e.length&&(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"empty-text pt-100 pb-100 text-center",children:(0,a.jsx)("h3",{children:"Your cart is empty"})})}),e&&e.length>=1&&(0,a.jsx)("section",{className:"cart-area pt-115 pb-130",children:(0,a.jsx)("div",{className:"container small-container",children:(0,a.jsx)("div",{className:"row",children:(0,a.jsxs)("div",{className:"col-12",children:[(0,a.jsx)("div",{className:"table-content table-responsive",children:(0,a.jsxs)("table",{className:"table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"product-thumbnail",children:"Images"}),(0,a.jsx)("th",{className:"cart-product-name",children:"Product"}),(0,a.jsx)("th",{className:"product-price",children:"Unit Price"}),(0,a.jsx)("th",{className:"product-quantity",children:"Weight"}),(0,a.jsx)("th",{className:"product-quantity",children:"Quantity"}),(0,a.jsx)("th",{className:"product-subtotal",children:"Total"}),(0,a.jsx)("th",{className:"product-remove",children:"Remove"})]})}),(0,a.jsx)("tbody",{children:e&&e.map((function(e,s){return(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"product-thumbnail",children:(0,a.jsx)(p(),{href:"/shop-details/".concat(e.slug),children:(0,a.jsx)("a",{children:(0,a.jsx)("img",{src:e.featured_image_link,alt:""})})})}),(0,a.jsx)("td",{className:"product-name",children:(0,a.jsx)(p(),{href:"/shop-details/".concat(e.slug),children:(0,a.jsx)("a",{children:e.name})})}),(0,a.jsx)("td",{className:"product-price",children:(0,a.jsxs)("span",{className:"amount",children:["Rs.",e.price]})}),(0,a.jsx)("td",{className:"product-price",children:(0,a.jsx)("span",{className:"amount",children:e.weight})}),(0,a.jsx)("td",{className:"product-quantity text-center",children:(0,a.jsx)("div",{className:"product-quantity mt-10 mb-10",children:(0,a.jsx)("div",{className:"product-quantity-form",children:(0,a.jsxs)("form",{onSubmit:function(e){return e.preventDefault()},children:[(0,a.jsx)("button",{type:"button",className:"cart-minus",onClick:function(){return c((0,v.gq)(e))},children:(0,a.jsx)("i",{className:"far fa-minus"})}),(0,a.jsx)("input",{className:"cart-input",type:"text",onChange:_,value:null===e||void 0===e?void 0:e.quantity}),(0,a.jsx)("button",{type:"button",className:"cart-plus",onClick:function(){return c((0,v.Vu)(e))},children:(0,a.jsx)("i",{className:"far fa-plus"})})]})})})}),(0,a.jsx)("td",{className:"product-subtotal",children:(0,a.jsxs)("span",{className:"amount",children:["Rs.",(null===e||void 0===e?void 0:e.quantity)*e.price.toFixed(2)]})}),(0,a.jsx)("td",{className:"product-remove",onClick:function(){return c((0,v.uZ)(e))},children:(0,a.jsx)("i",{className:"fa fa-times"})})]},s)}))})]})}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-12",children:(0,a.jsxs)("div",{className:"coupon-all",children:[(0,a.jsxs)("div",{className:"coupon d-flex align-items-center",children:[(0,a.jsx)("input",{id:"coupon_code",className:"input-text",name:"coupon_code",placeholder:"Coupon code",type:"text",value:n,onChange:function(e){return t(e.target.value)}}),(0,a.jsx)("button",{className:"bd-border__btn",name:"apply_coupon",type:"submit",onClick:g,children:"Apply coupon"})]}),(0,a.jsx)("div",{className:"coupon2",children:(0,a.jsx)("button",{className:"bd-border__btn",name:"update_cart",type:"submit",onClick:function(){return c((0,v.h9)())},children:"Clear cart"})})]})})}),(0,a.jsx)("div",{className:"row",children:(0,a.jsx)("div",{className:"col-md-8 ml-auto",children:(0,a.jsxs)("div",{className:"cart-page-total",children:[(0,a.jsx)("h2",{children:"Cart totals"}),l&&(0,a.jsxs)("ul",{className:"mb-20",children:[(0,a.jsx)("h4",{children:"Coupon Response:"}),(0,a.jsxs)("li",{children:["Total Items: ",(0,a.jsx)("span",{children:l.total_items})]}),(0,a.jsxs)("li",{children:["Total Quantity: ",(0,a.jsx)("span",{children:l.total_quantity})]}),(0,a.jsxs)("li",{children:["Subtotal: ",(0,a.jsxs)("span",{children:["Rs.",l.sub_total.toFixed(2)]})]}),(0,a.jsxs)("li",{children:["Total Discount: ",(0,a.jsxs)("span",{children:["Rs.",l.total_discount.toFixed(2)]})]}),(0,a.jsxs)("li",{children:["GST: ",(0,a.jsxs)("span",{children:["Rs.",l.gst_charge.toFixed(2)]})]}),(0,a.jsxs)("li",{children:["Delivery Charge: ",(0,a.jsxs)("span",{children:["Rs.",l.delivery_charge.toFixed(2)]})]}),(0,a.jsxs)("li",{children:["Cumulative Total:",(0,a.jsxs)("span",{children:[" Rs.",l.total_price_with_gst_delivery_charge.toFixed(2)]})]}),(0,a.jsxs)("li",{children:["Coupon Discount: ",(0,a.jsxs)("span",{children:["Rs.",l.coupon_discount.toFixed(2)]})]}),(0,a.jsxs)("li",{children:["Total: ",(0,a.jsxs)("span",{children:["Rs.",l.total_price_with_coupon_dicount.toFixed(2)]})]})]}),!l&&(0,a.jsxs)("ul",{className:"mb-20",children:[(0,a.jsxs)("li",{children:["Subtotal ",(0,a.jsxs)("span",{children:["Rs.",parseFloat(u.toFixed(2))]})]}),(0,a.jsxs)("li",{children:["Delivery Charge ",(0,a.jsxs)("span",{children:["Rs.",parseFloat(N.toFixed(2))]})]}),(0,a.jsxs)("li",{children:["Total ",(0,a.jsxs)("span",{children:["Rs.",k.toFixed(2)]})]})]}),(0,a.jsx)(p(),{href:"/checkout?couponId=".concat(n,"&deliveryCharge=").concat(N),children:(0,a.jsx)("a",{className:"bd-border__btn",children:"Proceed to checkout"})})]})})})]})})})})]})},b=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(l.Z,{}),(0,a.jsxs)("main",{children:[(0,a.jsx)(o.Z,{breadHome:"Home",breadMenu:"Cart"}),(0,a.jsx)(N,{})]}),(0,a.jsx)(i.Z,{})]})},_=function(){return(0,a.jsxs)(c.Z,{children:[(0,a.jsx)(t.Z,{pageTitle:"Cart"}),(0,a.jsx)(b,{})]})}}},function(e){e.O(0,[1664,4550,6614,9774,2888,179],(function(){return s=7671,e(e.s=s);var s}));var s=e.O();_N_E=s}]);